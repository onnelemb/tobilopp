<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Â¿que onda tio?</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: helvetica, sans-serif;
            text-transform: lowercase;
            background: #fff;
            color: #000;
            transition: background 0.6s ease, color 0.6s ease;
        }

        body.dark {
            background: #000;
            color: #fff;
        }

        header,
        footer,
        section,
        .marquee,
        #clock-container,
        #notes {
            background: inherit;
            color: inherit;
            transition: background 0.6s ease, color 0.6s ease;
        }

        header,
        footer {
            padding: 1em;
        }

        header h1 {
            display: none;
        }

        .marquee {
            padding: 0.5em;
            overflow: hidden;
            white-space: nowrap;
        }

        .marquee span {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 20s linear infinite;
        }

        @keyframes marquee {
            0% {
                transform: translateX(0%);
            }

            100% {
                transform: translateX(-100%);
            }
        }

        section {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 50px 20px;
            gap: 20px;
            flex-wrap: wrap;
        }

        .slideshow,
        .text-box {
            flex: 1 1 250px;
            position: relative;
            overflow: hidden;
        }

        .slides-wrapper {
            display: flex;
            transition: transform 1s ease-in-out;
        }

        .slides-wrapper img {
            flex-shrink: 0;
            width: 90%;
            max-width: 250px;
            object-fit: cover;
            aspect-ratio: 3 / 4;
            margin: 0 auto;
            cursor: pointer;
        }

        .text-box {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            font-size: 1.2em;
            cursor: pointer;
        }

        .text-box p:hover {
            text-decoration: underline;
        }

        #notes {
            max-width: 800px;
            margin: 80px auto 40px auto;
            text-align: justify;
            padding: 20px;
            font-size: 1.3em;
            line-height: 1.5em;
        }

        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
            color: inherit;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s;
        }

        body.dark .arrow {
            background: rgba(0, 0, 0, 0.7);
        }

        .arrow.left {
            left: 10px;
        }

        .arrow.right {
            right: 10px;
        }

        .slideshow:hover .arrow {
            opacity: 1;
        }

        #clock-container {
            width: 100%;
            display: flex;
            justify-content: center;
            padding: 30px 0;
            cursor: pointer;
        }

        #clock {
            width: 300px;
            height: 300px;
            background: transparent;
        }

        footer {
            position: relative;
            padding-bottom: 10px;
        }

        .footer-inner {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            width: 100%;
        }

        .footer-left {
            text-align: left;
        }

        .footer-right {
            text-align: right;
        }

        /* popup */
        .popup {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .popup-content {
            background: #fff;
            color: #000;
            border: 1px solid currentColor;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            transition: background 0.6s ease, color 0.6s ease;
            white-space: pre-line;
        }

        body.dark .popup-content {
            background: #000;
            color: #fff;
        }

        /* animations */
        @keyframes popupIn {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(10px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        @keyframes popupOut {
            from {
                opacity: 1;
                transform: scale(1) translateY(0);
            }

            to {
                opacity: 0;
                transform: scale(0.95) translateY(10px);
            }
        }

        @media (max-width: 768px) {
            section {
                flex-direction: column;
            }

            .slideshow,
            .text-box {
                flex: 1 1 100%;
            }

            #clock {
                width: 200px;
                height: 200px;
            }

            .slides-wrapper img {
                width: 80%;
                max-width: 180px;
            }

            #notes {
                font-size: 1.1em;
                padding-top: 80px;
            }
        }

        /* startup animation */
        body {
            opacity: 0;
            animation: pageFade 1.2s ease forwards;
        }

        @keyframes pageFade {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>
</head>

<body>

    <header>
        <div id="clock-container">
            <canvas id="clock"></canvas>
        </div>
    </header>

    <div class="marquee">
        <span>!!!tobilopp jaab igaveseks, koik asjad on tupsu- ja joogiraha mulle hahahaha ulimona hahahahah aitah koik toetajad ja olge tublid ma armastan teid!!!</span>
    </div>

    <section>
        <div class="slideshow" id="slideshow1">
            <div class="slides-wrapper">
                <img src="image1a.png" alt="slide1" onclick="window.open('https://www.instagram.com/tobil6pp/', '_blank')">
                <img src="image2a.png" alt="slide2" onclick="window.open('https://www.instagram.com/tobil6pp/', '_blank')">
            </div>
            <div class="arrow left" onclick="prevSlide('slideshow1')">&#10094;</div>
            <div class="arrow right" onclick="nextSlide('slideshow1')">&#10095;</div>
        </div>
        <div class="text-box" onclick="openPopup('ilusad turukud')">
            <p>"ilusad turukud"<br>19.12.25 00:59</p>
        </div>
    </section>

    <section>
        <div class="text-box" onclick="openPopup('kai perse maison margiela')">
            <p>"kai perse maison margiela"<br>19.12.25 17:09</p>
        </div>
        <div class="slideshow" id="slideshow2">
            <div class="slides-wrapper">
                <img src="image1b.png" alt="slide1" onclick="window.open('https://www.instagram.com/tobil6pp/', '_blank')">
                <img src="image2b.png" alt="slide2" onclick="window.open('https://www.instagram.com/tobil6pp/', '_blank')">
            </div>
            <div class="arrow left" onclick="prevSlide('slideshow2')">&#10094;</div>
            <div class="arrow right" onclick="nextSlide('slideshow2')">&#10095;</div>
        </div>
    </section>

    <section>
        <div class="slideshow" id="slideshow3">
            <div class="slides-wrapper">
                <img src="image1c.png" alt="slide1" onclick="window.open('https://www.instagram.com/tobil6pp/', '_blank')">
                <img src="image2c.png" alt="slide2" onclick="window.open('https://www.instagram.com/tobil6pp/', '_blank')">
            </div>
            <div class="arrow left" onclick="prevSlide('slideshow3')">&#10094;</div>
            <div class="arrow right" onclick="nextSlide('slideshow3')">&#10095;</div>
        </div>
        <div class="text-box" onclick="openPopup('nikotiin ja armastus')">
            <p>"nikotiin ja armastus"<br>20.01.25 12:43</p>
        </div>
    </section>

    <section>
        <div class="text-box" onclick="openPopup('marleen kadak')">
            <p>"marleen kadak"<br>20.01.25 18:36</p>
        </div>
        <div class="slideshow" id="slideshow4">
            <div class="slides-wrapper">
                <img src="image1d.png" alt="slide1" onclick="window.open('https://www.instagram.com/tobil6pp/', '_blank')">
                <img src="image2d.png" alt="slide2" onclick="window.open('https://www.instagram.com/tobil6pp/', '_blank')">
            </div>
            <div class="arrow left" onclick="prevSlide('slideshow4')">&#10094;</div>
            <div class="arrow right" onclick="nextSlide('slideshow4')">&#10095;</div>
        </div>
    </section>

    <div id="notes">
        <p>tobilopp on projekt, millega olen pikka aega tahtnud tegelt tegeleda. iga ese on 1:1, handmade, fakk massproduktsioon. esemega tuleb kaasa ka paar ullatust, k.a privaatne videomaterjal, kuidas eset tegin ja millest inspiratsiooni sain. iga asi on suht ok hinnaga mitte nq bershka ja insta brandid ja katte saad naost nakku, ma ei saada pakiga ega mangi kullerit. thans kui copid ja ole loov edasi.</br>- markus</br></br></br></br></br></br></br></p>
    </div>

    <footer>
        <div class="footer-inner">
            <div class="footer-left">
                o. lemb / g. s. heron<br>
                ma ei tegele omnivaga saad kaest katte, muu inf insta dmist
            </div>
            <div class="footer-right">2025</div>
        </div>
    </footer>

    <div class="popup" id="popup" onclick="closePopup()">
        <div class="popup-content" onclick="event.stopPropagation()">
            <div id="popup-text"></div>
        </div>
    </div>

    <script>
        // dark light toggle
        const clockContainer = document.getElementById('clock-container');
        clockContainer.addEventListener('click', () => {
            document.body.classList.toggle('dark');
        });

        // popup logic
        function openPopup(name) {
            const descs = {
                "ilusad turukud": "mulle meeldivad turukud, kes on ilusad aga ka mingisuguse hinge ja vaimuga. \n\n15.-",
                "kai perse maison margiela": "niumeta uks toode maison margielalt mis on viisteist euki. vot\n\n15.-",
                "nikotiin ja armastus": "mul on armastus nikotiini vastu, see on see mis ma selle rahaga teen kui sa praegu selle ostad haha\n\n15.-",
                "marleen kadak": "ma sain teeverilt puid alla, et ma kirjutan markus nq marleen. ma arvasin, et see oli naljakas ja marleen on suht ilus nimi. #transmina\n\n15.-"
            };

            const text = descs[name] || "mingi error\n\n15.-";
            document.getElementById('popup-text').innerText = name + "\n\n" + text;
            const popup = document.getElementById('popup');
            const popupContent = popup.querySelector('.popup-content');
            popupContent.style.animation = 'popupIn 0.45s cubic-bezier(.2,.8,.2,1) forwards';
            popup.style.display = 'flex';
        }

        function closePopup() {
            const popup = document.getElementById('popup');
            const popupContent = popup.querySelector('.popup-content');
            popupContent.style.animation = 'popupOut 0.3s cubic-bezier(.2,.8,.2,1) forwards';
            popupContent.addEventListener('animationend', () => {
                popup.style.display = 'none';
                popupContent.style.animation = '';
            }, {
                once: true
            });
        }

        // smooth analog clock
        const canvas = document.getElementById('clock');
        canvas.width = canvas.clientWidth;
        canvas.height = canvas.clientWidth;
        const ctx = canvas.getContext('2d');
        const radius = canvas.height / 2;
        ctx.translate(radius, radius);

        let lastBgColor = getComputedStyle(document.body).backgroundColor;
        let isTransitioning = false;

        function drawClock() {
            const currentBgColor = getComputedStyle(document.body).backgroundColor;
            const fgColor = getComputedStyle(document.body).color;
            
            // Detect if background is transitioning
            if (currentBgColor !== lastBgColor) {
                isTransitioning = true;
                lastBgColor = currentBgColor;
                setTimeout(() => { isTransitioning = false; }, 600);
            }
            
            // Redraw background on every frame during transition
            if (isTransitioning) {
                ctx.fillStyle = currentBgColor;
                ctx.fillRect(-radius, -radius, canvas.width, canvas.height);
            } else {
                ctx.fillStyle = currentBgColor;
                ctx.fillRect(-radius, -radius, canvas.width, canvas.height);
            }
            
            ctx.fillStyle = fgColor;
            ctx.strokeStyle = fgColor;
            ctx.font = radius * 0.15 + 'px helvetica';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            for (let num = 1; num <= 12; num++) {
                let ang = (12 - num) * Math.PI / 6;
                ctx.save();
                ctx.rotate(ang);
                ctx.translate(0, -radius * 0.85);
                ctx.rotate(-ang);
                ctx.fillText(num.toString(), 0, 0);
                ctx.restore();
            }

            let now = new Date();
            let ms = now.getMilliseconds();
            let sec = now.getSeconds() + ms / 1000;
            let min = now.getMinutes() + sec / 60;
            let hour = (now.getHours() % 12) + min / 60;

            drawHand(hour * 30, radius * 0.5, 6);
            drawHand(min * 6, radius * 0.7, 4);
            drawHand(sec * 6, radius * 0.9, 2);

            requestAnimationFrame(drawClock);
        }

        function drawHand(pos, length, width) {
            let rad = pos * Math.PI / 180;
            ctx.beginPath();
            ctx.lineWidth = width;
            ctx.moveTo(0, 0);
            ctx.lineTo(-length * Math.sin(rad), -length * Math.cos(rad));
            ctx.stroke();
        }

        requestAnimationFrame(drawClock);

        // slideshows unchanged
        class Slideshow {
            constructor(id, interval = 6000) {
                this.slideshow = document.getElementById(id);
                this.wrapper = this.slideshow.querySelector('.slides-wrapper');
                this.slides = Array.from(this.wrapper.querySelectorAll('img'));
                this.index = 0;
                this.total = this.slides.length;
                this.intervalTime = interval;

                this.wrapper.style.display = 'flex';
                this.wrapper.style.width = `${this.total * 100}%`;
                this.slides.forEach(slide => slide.style.width = `${100 / this.total}%`);

                this.start();
                this.slideshow.addEventListener('mouseenter', () => clearInterval(this.timer));
                this.slideshow.addEventListener('mouseleave', () => this.start());

                let startX = 0;
                this.slideshow.addEventListener('touchstart', e => {
                    startX = e.touches[0].clientX;
                });
                this.slideshow.addEventListener('touchend', e => {
                    let endX = e.changedTouches[0].clientX;
                    if (startX - endX > 50) this.next();
                    else if (endX - startX > 50) this.prev();
                });
            }

            showSlide(i) {
                this.wrapper.style.transform = `translateX(-${i * (100 / this.total)}%)`;
                this.index = i;
            }

            next() {
                this.showSlide((this.index + 1) % this.total);
            }
            prev() {
                this.showSlide((this.index - 1 + this.total) % this.total);
            }
            start() {
                this.timer = setInterval(() => this.next(), this.intervalTime);
            }
        }

        const slideshow1 = new Slideshow('slideshow1', 6000);
        const slideshow2 = new Slideshow('slideshow2', 6000);
        const slideshow3 = new Slideshow('slideshow3', 6000);
        const slideshow4 = new Slideshow('slideshow4', 6000);

        function nextSlide(id) {
            if (id === 'slideshow1') slideshow1.next();
            if (id === 'slideshow2') slideshow2.next();
            if (id === 'slideshow3') slideshow3.next();
            if (id === 'slideshow4') slideshow4.next();
        }

        function prevSlide(id) {
            if (id === 'slideshow1') slideshow1.prev();
            if (id === 'slideshow2') slideshow2.prev();
            if (id === 'slideshow3') slideshow3.prev();
            if (id === 'slideshow4') slideshow4.prev();
        }
    </script>

</body>

</html>
